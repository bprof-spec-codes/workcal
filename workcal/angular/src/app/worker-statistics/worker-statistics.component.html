<div>
  <h2>Worker Hours Report</h2>

  <div>
    <label for="reportType">Report Type:</label>
    <select [(ngModel)]="reportType" (change)="onReportTypeChange()">
      <option value="daily">Daily</option>
      <option value="weekly">Weekly</option>
      <option value="monthly">Monthly</option>
      <option value="yearly">Yearly</option>
    </select>

    <div *ngFor="let worker of workers">
      <input type="checkbox" [id]="worker.id" [value]="worker.id"
             (change)="onWorkerSelectionChange(worker.id, $event.target.checked)"
             [checked]="selectedWorkerIds.includes(worker.id)">
      <label [for]="worker.id">{{ worker.name }}</label>
    </div>

<!--    <dx-drop-down-box-->
<!--      [(value)]="reportType"-->
<!--      [dataSource]="reportTypeList"-->
<!--      placeholder="Report type"-->
<!--      (onValueChanged)="onReportTypeChange()">-->
<!--      <div *dxTemplate="let data of 'content'">-->
<!--        <dx-list-->
<!--          [dataSource]="reportTypeList"-->
<!--          selectionMode="single"-->
<!--          [selectedItems]="[reportType]"-->
<!--          (onSelectionChanged)="onReportTypeChange($event)">-->
<!--          <div *dxTemplate="let data of 'content'">-->
<!--            {{data}}-->
<!--          </div>-->
<!--        </dx-list>-->
<!--      </div>-->
<!--    </dx-drop-down-box>-->


    <h3>Users:</h3>
    <div *ngIf="isWorker">
      <div *ngFor="let worker of workers">
        <dx-check-box
          (valueChange)='onWorkerSelectionChange(worker.id, $event)'
          [value]="selectedWorkerIds.includes(worker.id)"

        >
        </dx-check-box>
        <label [for]="worker.id">{{'  ' + worker.name + '(' + this.workerHoursSum + ' Ã³ra)'}}</label>
      </div>
    </div>

    <div *ngIf="!isWorker">
      <div *ngFor="let worker of workers">
        <dx-check-box
          (valueChange)='onWorkerSelectionChange(worker.id, $event)'
          [value]="selectedWorkerIds.includes(worker.id)">
        </dx-check-box>
        <label [for]="worker.id">{{'  ' + worker.name}}</label>
      </div>
    </div>

    <h3>Labels:</h3>

    <div *ngFor="let labelName of distinctLabelNames">
      <input type="checkbox" [id]="'label-' + labelName" [value]="labelName"
             (change)="onLabelSelectionChange(labelName, $event.target.checked)"
             [checked]="selectedLabelNames.includes(labelName)">
      <label [for]="'label-' + labelName">{{ labelName }}</label>
    </div>

    <dx-date-box
      [(value)]="startDate"
      (valueChange)="onDateChange()"
      type="date"
      placeholder="Start Date">
    </dx-date-box>

    <dx-date-box
      [(value)]="endDate"
      (valueChange)="onDateChange()"
      type="date"
      placeholder="End Date">
    </dx-date-box>

  </div>

  <!-- Chart for displaying hours -->
  <dx-chart
    [dataSource]="workerHours"
    title="Worker Hours Report">
    <dxi-series
      *ngFor="let worker of selectedWorkers"
      argumentField="segment"
      [valueField]="worker.name"
      [name]="worker.name"
      type="bar">
    </dxi-series>
  </dx-chart>

  <!-- Export Button -->
  <button (click)="triggerExport()">Export to Excel</button>

  <!-- Optional: Hidden DataGrid for Exporting Data -->
  <div style="display: none;">
   <!-- worker-statistics.component.html -->

<!-- worker-statistics.component.html -->

<!-- Make the DataGrid visible -->
<div>
  <dx-data-grid #dataGrid
      [dataSource]="workerHours"
      [columns]="gridColumns"
      [showBorders]="true">
  </dx-data-grid>
</div>




  </div>
</div>
